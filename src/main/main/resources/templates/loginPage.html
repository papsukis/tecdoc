<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <head th:replace="common/header :: head"></head></head>
<body>
<!-- Include _menu.html -->
<div th:replace="common/header :: top-navigation">...</div>

<div class="container ">
    <div class="jumbotron">

        <div class="alert alert-danger" role="alert" th:if="${#request.getParameter('error') == 'true'}"
             style="color:red;margin:10px 0px;">
            Login Failed!!!<br />
            Reason :
            <span  th:if="${#session!= null and #session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}"
                   th:utext="${#session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION').message}">
                    Static summary
                </span>
        </div>

        <form class="form-signin" th:action="@{/j_spring_security_check}" method='POST'>
            <h2 class="form-signin-heading">Please sign in</h2>
            <label for="inputName" class="sr-only">UserName</label>
            <input type="name" name='name' id="inputName" class="form-control" placeholder="Nom d'utilisateur" required autofocus>
            <label for="inputPassword" class="sr-only">Password</label>
            <input type="password" name='password' id="inputPassword" class="form-control" placeholder="Password" required>
            <label for="inputOTP" class="sr-only">UserName</label>
            <input type="OTP" name='code' id="inputOTP" class="form-control" placeholder="Mot de passe Unique" required>
            <div class="checkbox">
                <label>
                    <input type="checkbox" value="remember-me"> Remember me
                </label>
            </div>
            <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
        </form>
    </div>
</div> <!-- /container -->

<form name='code' th:action="@{/code}" th:Object="${name}" method='GET'>
    <table>
        <tr>
            <td>Generate QR code for User:</td>
            <td><input type='text' name='name' th:field="*{form}"value=''></td>
        </tr>
        <tr>
            <td><input name="submit" type="submit" value="submit" /></td>
        </tr>
    </table></form>


<div th:replace="common/footer :: footer">...</div>
</body>

</html>